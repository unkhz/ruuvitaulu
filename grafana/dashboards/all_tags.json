{
  "annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "type": "dashboard"}]},
  "editable": true,
  "gnetId": null,
  "graphTooltip": 1,
  "iteration": 1604836411276,
  "links": [],
  "panels": [
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Prometheus",
      "decimals": 1,
      "fieldConfig": {"defaults": {"custom": {}, "unit": "degree"}, "overrides": []},
      "fill": 1,
      "fillGradient": 1,
      "gridPos": {"h": 7, "w": 24, "x": 0, "y": 0},
      "hiddenSeries": false,
      "id": 2,
      "legend": {"alignAsTable": true, "avg": true, "current": true, "max": true, "min": true, "rightSide": true, "show": true, "sideWidth": 320, "total": false, "values": true},
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "connected",
      "options": {"alertThreshold": true},
      "percentage": false,
      "pluginVersion": "7.3.1",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "expr": "avg by (shortid) (\n  label_replace((\n    ruuvi_temperature{location=~'$room_type'} or ruuvi_temperature{room_type=~'$room_type'}\n   ), 'shortid', \"$1\", 'id', '([a-z0-9]{$shortid_length}).*'\n  )\n)",
          "instant": false,
          "interval": "",
          "legendFormat": "{{shortid}}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Temperature",
      "tooltip": {"shared": true, "sort": 0, "value_type": "individual"},
      "transparent": true,
      "type": "graph",
      "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []},
      "yaxes": [{"format": "degree", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}],
      "yaxis": {"align": false, "alignLevel": null}
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Prometheus",
      "decimals": 1,
      "fieldConfig": {"defaults": {"custom": {}, "unit": "percent"}, "overrides": []},
      "fill": 1,
      "fillGradient": 1,
      "gridPos": {"h": 7, "w": 24, "x": 0, "y": 7},
      "hiddenSeries": false,
      "id": 3,
      "legend": {"alignAsTable": true, "avg": true, "current": true, "max": true, "min": true, "rightSide": true, "show": true, "sideWidth": 320, "total": false, "values": true},
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "connected",
      "options": {"alertThreshold": true},
      "percentage": false,
      "pluginVersion": "7.3.1",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "expr": "max by (shortid) (\n  label_replace((\n    ruuvi_humidity{location=~'$room_type'} or ruuvi_humidity{room_type=~'$room_type'}\n   ), 'shortid', \"$1\", 'id', '([a-z0-9]{$shortid_length}).*'\n  )\n)",
          "interval": "",
          "legendFormat": "{{shortid}}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Humidity",
      "tooltip": {"shared": true, "sort": 0, "value_type": "individual"},
      "transparent": true,
      "type": "graph",
      "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []},
      "yaxes": [{"format": "percent", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}],
      "yaxis": {"align": false, "alignLevel": null}
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 6,
      "dashes": false,
      "datasource": "Prometheus",
      "fieldConfig": {"defaults": {"custom": {}, "unit": "none"}, "overrides": []},
      "fill": 1,
      "fillGradient": 1,
      "gridPos": {"h": 7, "w": 24, "x": 0, "y": 14},
      "hiddenSeries": false,
      "id": 4,
      "legend": {"alignAsTable": true, "avg": false, "current": true, "max": true, "min": true, "rightSide": true, "show": true, "sideWidth": 320, "total": false, "values": true},
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "connected",
      "options": {"alertThreshold": true},
      "percentage": false,
      "pluginVersion": "7.3.1",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "expr": "max by (shortid) (\n  label_replace((\n    ruuvi_pressure{location=~'$room_type'} or ruuvi_pressure{room_type=~'$room_type'}\n   ), 'shortid', \"$1\", 'id', '([a-z0-9]{$shortid_length}).*'\n  )\n)",
          "interval": "",
          "legendFormat": "{{shortid}}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Pressure",
      "tooltip": {"shared": true, "sort": 0, "value_type": "individual"},
      "transparent": true,
      "type": "graph",
      "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []},
      "yaxes": [{"format": "none", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}],
      "yaxis": {"align": false, "alignLevel": null}
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {"align": null, "filterable": false},
          "mappings": [],
          "max": 5000,
          "min": 0,
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1000}]}
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 19, "x": 0, "y": 21},
      "id": 6,
      "options": {"orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showThresholdLabels": false, "showThresholdMarkers": true},
      "pluginVersion": "7.3.1",
      "targets": [{"expr": "ruuvi_battery", "interval": "", "legendFormat": "{{name}}", "refId": "A"}],
      "timeFrom": null,
      "timeShift": null,
      "title": "Battery",
      "transparent": true,
      "type": "gauge"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {"align": null, "filterable": false},
          "decimals": 1,
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]},
          "unit": "degree"
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 5, "x": 19, "y": 21},
      "id": 8,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
        "textMode": "value"
      },
      "pluginVersion": "7.3.1",
      "targets": [{"expr": "avg(ruuvi_temperature{location=~'$location'})", "interval": "", "legendFormat": "", "queryType": "randomWalk", "refId": "A"}],
      "timeFrom": null,
      "timeShift": null,
      "title": "Outside temp",
      "transparent": true,
      "type": "stat"
    }
  ],
  "refresh": "",
  "schemaVersion": 26,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "allValue": "",
        "current": {"selected": false, "text": "undefined", "value": "undefined"},
        "datasource": "Prometheus",
        "definition": "label_values(location)",
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": null,
        "multi": false,
        "name": "room_type",
        "options": [],
        "query": "label_values(location)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {"selected": true, "text": "3", "value": "3"},
        "error": null,
        "hide": 2,
        "label": null,
        "name": "shortid_length",
        "options": [{"selected": true, "text": "3", "value": "3"}],
        "query": "3",
        "skipUrlSync": false,
        "type": "constant"
      }
    ]
  },
  "time": {"from": "now-6h", "to": "now"},
  "timepicker": {},
  "timezone": "",
  "title": "Käppyrät by tags",
  "uid": "kappyrat-tags",
  "version": 7
}